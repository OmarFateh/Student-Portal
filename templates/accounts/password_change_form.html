{% extends 'base.html' %}
{% load static %}

{% block title %}
<title>Password Change</title>
{% endblock title %}

{% block content %}
<div class="row center-align">
    <div class="col s12 m8 offset-m2 l6 offset-l3">
        <h4>Student Portal</h4>
        <div class="card">
            <form method="post" action="." role="form">
                {% csrf_token %}
                <h4 class="title pt-10 is-3">Password Change</h4>
                <div class="input-field col s12">
                    <i class="material-icons prefix">lock</i>
                    {{ form.old_password }}
                    <label for="id_old_password">Old Password</label>
                </div>
                <!-- Display old password error message -->
                {% if form.old_password.errors %}
                    {% for error in form.old_password.errors %}
                        <div class='error-message'>{{ error|escape }}</div>
                    {% endfor %}
                {% endif %}
                <div class="input-field col s12">
                    <i class="material-icons prefix">lock</i>
                    {{ form.new_password1 }}
                    <label for="id_password1">New Password</label>
                    <div class="js-validate-password1-error error-message" style="display: none;">
                    </div>
                </div>
                <div class="input-field col s12">
                    <i class="material-icons prefix">lock</i>
                    {{ form.new_password2 }}
                    <label for="id_password2">Confirm Password</label>
                    <div class="js-validate-password1-error error-message" style="display: none;">
                    </div>
                </div>
                <!-- Display new passwords error message -->
                {% if form.new_password2.errors %}
                    {% for error in form.new_password2.errors %}
                        <div class='error-message'>{{ error|escape }}</div>
                    {% endfor %}
                {% endif %}
                <div class="field">
                    <p class="control">
                        <button type="submit" value="submit" class="btn waves-effect waves-light" id="submit-btn">
                            Change Password
                        </button>
                    </p>
                </div>
            </form>
        </div>
    </div>
</div>                
{% endblock content %}

{% block javascript %}
<script src="{% static 'js/custom/accounts/passwords_validation.js' %}"></script>
{% endblock javascript %}